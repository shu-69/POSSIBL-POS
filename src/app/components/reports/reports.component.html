<ion-header mode="ios">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="close()">Close</ion-button>
    </ion-buttons>
    <ion-title>Reports</ion-title>
    <ion-buttons slot="end">
      <ion-button [strong]="false">
        <ion-icon name="arrow-redo-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content mode="ios">

  <section class="parent">

    <div class="card-reports">

      <ion-card mode="ios" class="report-card">
        <ion-card-header mode="ios">
          <div>
            <ion-card-subtitle mode="ios">Total Sale</ion-card-subtitle>
            <ion-card-title mode="ios">Today</ion-card-title>
          </div>
          <div class="options-container">
            <ion-icon class="refresh-icon" name="refresh-circle" [ngClass]="{'rotate': loaders.isTodayLoaderActive}" (click)="onTodayRefreshClicked()"></ion-icon>
          </div>
        </ion-card-header>

        <ion-card-content>
          <div class="value">
            <span class="currency-symbol">{{ currencySymbol }}</span>
            <span>&nbsp;</span>
            <span class="currency-symbol">{{ generalServices.addCommas(reportValues.todaySales.toFixed(2)) }}</span>
          </div>
        </ion-card-content>
      </ion-card>

      <ion-card mode="ios" class="report-card">
        <ion-card-header mode="ios">
          <div>
            <ion-card-subtitle mode="ios">Total Sale</ion-card-subtitle>
            <ion-card-title mode="ios">This Week</ion-card-title>
          </div>
          <div class="options-container">
            <ion-icon class="refresh-icon" name="refresh-circle" [ngClass]="{'rotate': loaders.isWeekLoaderActive}" (click)="onWeekRefreshClicked()"></ion-icon>
          </div>
        </ion-card-header>

        <ion-card-content>
          <div class="value">
            <span class="currency-symbol">{{ currencySymbol }}</span>
            <span>&nbsp;</span>
            <span class="currency-symbol">{{ generalServices.addCommas(reportValues.weekSales.toFixed(2)) }}</span>
          </div>
        </ion-card-content>
      </ion-card>

      <ion-card mode="ios" class="report-card">
        <ion-card-header mode="ios">
          <div>
            <ion-card-subtitle mode="ios">Total Sale</ion-card-subtitle>
            <ion-card-title mode="ios">This Month</ion-card-title>
          </div>
          <div class="options-container">
            <ion-icon class="refresh-icon" name="refresh-circle" [ngClass]="{'rotate': loaders.isMonthLoaderActive}" (click)="onMonthRefreshClicked()"></ion-icon>
          </div>
        </ion-card-header>

        <ion-card-content>
          <div class="value">
            <span class="currency-symbol">{{ currencySymbol }}</span>
            <span>&nbsp;</span>
            <span class="currency-symbol">{{ generalServices.addCommas(reportValues.monthSales.toFixed(2)) }}</span>
          </div>
        </ion-card-content>
      </ion-card>

      <ion-card mode="ios" class="report-card">
        <ion-card-header mode="ios">
          <div>
            <ion-card-subtitle mode="ios">Total Sale</ion-card-subtitle>
            <ion-card-title mode="ios">This Year</ion-card-title>
          </div>
          <div class="options-container">
            <ion-icon class="refresh-icon" name="refresh-circle" [ngClass]="{'rotate': loaders.isYearLoaderActive}" (click)="onYearRefreshClicked()"></ion-icon>
          </div>
        </ion-card-header>

        <ion-card-content>
          <div class="value">
            <span class="currency-symbol">{{ currencySymbol }}</span>
            <span>&nbsp;</span>
            <span class="currency-symbol">{{ generalServices.addCommas(reportValues.yearSales.toFixed(2)) }}</span>
          </div>
        </ion-card-content>
      </ion-card>

    </div>

    <div class="month-wise-sales-chart">
      <div class="toolbar">
        <div>
          <ion-text>{{ 'Sales Chart ' + '(' + 'year ' +  monthWiseSalesChartOptions.selectedYear + ')' }}</ion-text>
        </div>
        <div>
          <ion-select aria-label="Year" [value]="monthWiseSalesChartOptions.selectedYear" interface="popover" placeholder="Select year"
          (ionChange)="onMonthWiseSalesChartOptionsYearChange($event)">
            <ion-select-option [value]="year" *ngFor="let year of monthWiseSalesChartOptions.yearsOptions">{{ year }}</ion-select-option>
          </ion-select>
        </div>
      </div>
      <canvas #month_wise_sales_chart id="month-wise-sales-chart" #mychart></canvas>
    </div>

  </section>

</ion-content>